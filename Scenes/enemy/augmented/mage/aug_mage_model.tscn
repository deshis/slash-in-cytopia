[gd_scene load_steps=9 format=3 uid="uid://byxsto3jgbjf4"]

[ext_resource type="PackedScene" uid="uid://bgu5xdugs0tpp" path="res://Assets/enemy/mage/mage.glb" id="1_ksac8"]
[ext_resource type="ArrayMesh" uid="uid://c0why2ufjy3n8" path="res://Assets/enemy/mage/mage_augmented_staff.res" id="2_i5i6r"]

[sub_resource type="Curve" id="Curve_2bpbv"]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_gkcjs"]
curve = SubResource("Curve_2bpbv")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_i45mg"]
angle_min = 1.0728835e-05
angle_max = 1.0728835e-05
direction = Vector3(1, 1, 1)
spread = 180.0
initial_velocity_min = 1.5
initial_velocity_max = 2.0
alpha_curve = SubResource("CurveTexture_gkcjs")

[sub_resource type="Curve" id="Curve_k11n6"]
_data = [Vector2(0, 0.0035533905), 0.0, 5.5817986, 0, 0, Vector2(0.22251308, 0.4918782), 0.0, 0.0, 0, 0, Vector2(0.97905755, 0), -0.03231894, 0.0, 0, 0]
point_count = 3

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_al0hc"]
transparency = 1
shading_mode = 0
vertex_color_use_as_albedo = true
albedo_color = Color(0.5921569, 0.16862746, 0.27058825, 1)
billboard_keep_scale = true
use_particle_trails = true

[sub_resource type="RibbonTrailMesh" id="RibbonTrailMesh_sarri"]
material = SubResource("StandardMaterial3D_al0hc")
size = 0.1
curve = SubResource("Curve_k11n6")

[node name="mage" instance=ExtResource("1_ksac8")]

[node name="Skeleton3D" parent="rig" index="0"]
bones/1/position = Vector3(0, 0.055199984, 1.0099)
bones/1/rotation = Quaternion(0.7904554, 0, 0, 0.6125197)
bones/2/rotation = Quaternion(-0.06447636, -9.653672e-11, -1.4941249e-09, 0.99791926)
bones/3/rotation = Quaternion(-0.07734654, 0.033959117, -0.00047692325, 0.9964256)
bones/3/scale = Vector3(0.99999976, 1.0000002, 0.9999997)
bones/4/rotation = Quaternion(0.001691905, 0.10152955, 0.001989915, 0.9948291)
bones/4/scale = Vector3(1.0000002, 0.9999995, 1.0000002)
bones/5/rotation = Quaternion(0.20127359, -0.06675313, 0.011772791, 0.97718704)
bones/6/rotation = Quaternion(0.00507205, -1.2628779e-09, 1.5527224e-08, 0.9999871)
bones/7/rotation = Quaternion(-0.1922657, -0.06651279, 0.013062469, 0.9789992)
bones/8/position = Vector3(0.3509719, 0.22515047, 1.2564137)
bones/8/rotation = Quaternion(-0.06338392, 0.9643153, -0.01873073, 0.25637418)
bones/8/scale = Vector3(1.0000001, 18.28483, 1)
bones/9/position = Vector3(-0.42935464, -0.09032148, 1.2669133)
bones/9/rotation = Quaternion(-0.1713565, 0.98409957, -0.041778747, -0.02096766)
bones/9/scale = Vector3(0.99999976, 21.09987, 0.9999998)
bones/10/position = Vector3(0.22358087, -0.028599633, 0.53720003)
bones/10/rotation = Quaternion(0.9473876, 0.13653348, -0.28599557, 0.0449653)
bones/10/scale = Vector3(1.0000001, 21.74069, 1.0000001)
bones/11/position = Vector3(-0.22358087, -0.028599633, 0.53720003)
bones/11/rotation = Quaternion(0.9473876, -0.13653348, 0.28599557, 0.0449653)
bones/11/scale = Vector3(1.0000001, 21.74069, 1.0000001)
bones/15/rotation = Quaternion(0, 0, 0.13525487, 0.9908109)
bones/18/position = Vector3(0, -0.13663666, -1.4826559e-09)
bones/18/rotation = Quaternion(-0.74931765, 0, 0, 0.66221076)
bones/26/rotation = Quaternion(0.97537935, 0.0065178494, -0.1448099, 0.16620071)
bones/26/scale = Vector3(1.0000001, 1, 1.0000001)
bones/27/rotation = Quaternion(0.091016926, -7.5151014e-08, -1.44443675e-08, 0.99584943)
bones/27/scale = Vector3(0.9999999, 0.9999998, 1)
bones/28/rotation = Quaternion(-0.5921743, 0.085667185, 0.073278256, 0.7978854)
bones/28/scale = Vector3(0.99999976, 0.9999997, 0.9999987)
bones/29/position = Vector3(3.042911e-08, 0.18032512, 1.16570256e-07)
bones/29/rotation = Quaternion(-2.4496842e-06, 0.981081, -0.1935976, -1.2606706e-05)
bones/33/scale = Vector3(0.9999998, 1, 0.99999976)
bones/34/position = Vector3(-6.519258e-09, 6.519258e-08, 5.587936e-09)
bones/35/position = Vector3(-4.61416e-08, 0.22710699, -3.548453e-09)
bones/35/rotation = Quaternion(7.1847936e-08, 0.047594894, -1.3149881e-08, 0.99886674)
bones/35/scale = Vector3(0.99999994, 1, 0.9999991)
bones/37/scale = Vector3(0.99999976, 0.99999994, 0.99999976)
bones/38/position = Vector3(-2.1653246e-08, 0.26868266, -2.514573e-08)
bones/38/rotation = Quaternion(-7.543713e-08, -1.5471599e-07, -7.916242e-09, 1)
bones/38/scale = Vector3(0.99999976, 1, 0.99999994)
bones/39/position = Vector3(6.9849184e-09, 7.392373e-08, 3.7252876e-09)
bones/40/rotation = Quaternion(0.97537935, -0.0065178494, 0.1448099, 0.16620071)
bones/40/scale = Vector3(1.0000001, 1, 1.0000001)
bones/41/rotation = Quaternion(0.091016926, 7.5151014e-08, 1.44443675e-08, 0.99584943)
bones/41/scale = Vector3(0.9999999, 0.9999998, 1)
bones/42/rotation = Quaternion(-0.5921743, -0.08566717, -0.07327827, 0.7978854)
bones/42/scale = Vector3(0.99999976, 0.9999997, 0.9999987)
bones/43/position = Vector3(-3.210596e-08, 0.1803251, 1.2621928e-07)
bones/44/rotation = Quaternion(0.58734393, -0.5873341, -0.39373472, -0.39374965)
bones/47/scale = Vector3(0.9999998, 1, 0.99999976)
bones/48/position = Vector3(6.519258e-09, 6.519258e-08, 5.587936e-09)
bones/49/position = Vector3(4.61416e-08, 0.22710699, -3.548453e-09)
bones/49/rotation = Quaternion(6.3329324e-08, -0.047594894, -4.971223e-09, 0.99886674)
bones/49/scale = Vector3(0.99999994, 0.9999997, 0.9999989)
bones/51/scale = Vector3(0.99999976, 0.99999994, 0.99999976)
bones/52/position = Vector3(2.1653246e-08, 0.26868266, -2.514573e-08)
bones/52/rotation = Quaternion(-1.3969668e-09, 1.817243e-07, 6.5192456e-09, 1)
bones/52/scale = Vector3(1, 1, 0.9999997)
bones/53/position = Vector3(1.21071935e-08, 5.5937562e-08, 1.3038516e-08)
bones/60/rotation = Quaternion(-2.4962092e-06, 0.9810811, -0.1935975, -1.2359658e-05)
bones/62/rotation = Quaternion(-0.69911146, -0.123478174, 0.097043656, 0.697552)
bones/63/rotation = Quaternion(-0.04172421, 0.012318176, 0.0005144669, 0.9990532)
bones/63/scale = Vector3(1.0000002, 1.0000001, 1.0000001)
bones/64/rotation = Quaternion(0.09101692, -7.844859e-08, -1.6495122e-08, 0.99584943)
bones/64/scale = Vector3(0.99999994, 0.9999998, 1)
bones/65/rotation = Quaternion(0.97537935, 0.006517774, -0.1448102, 0.16620067)
bones/67/rotation = Quaternion(0.97537935, 0.0065177768, -0.14481017, 0.16620064)
bones/67/scale = Vector3(0.99999994, 0.99999994, 0.9999999)
bones/68/rotation = Quaternion(-2.7939728e-09, 2.3870965e-07, -1.9092118e-08, 1)
bones/68/scale = Vector3(0.99999994, 1.0000001, 1.0000001)
bones/69/rotation = Quaternion(0.09101691, -3.4005623e-08, -1.4467738e-08, 0.99584943)
bones/69/scale = Vector3(1, 0.9999998, 0.9999997)
bones/70/rotation = Quaternion(7.3923725e-09, -8.731153e-09, -1.4435507e-08, 1)
bones/71/rotation = Quaternion(-0.5921741, 0.0856673, 0.0732781, 0.79788554)
bones/71/scale = Vector3(0.9999999, 1.0000004, 0.9999988)
bones/72/rotation = Quaternion(-2.522067e-06, 0.981081, -0.19359784, -1.2448704e-05)
bones/72/scale = Vector3(1.0000045, 1.0000002, 1.0000012)
bones/81/rotation = Quaternion(-0.69911146, 0.123478174, -0.097043656, 0.697552)
bones/82/rotation = Quaternion(-0.04172421, -0.012318176, -0.0005144669, 0.9990532)
bones/82/scale = Vector3(1.0000002, 1.0000001, 1.0000001)
bones/83/rotation = Quaternion(0.09101692, 7.844859e-08, 1.6495122e-08, 0.99584943)
bones/83/scale = Vector3(0.99999994, 0.9999998, 1)
bones/84/rotation = Quaternion(0.97537935, -0.006517774, 0.1448102, 0.16620067)
bones/86/rotation = Quaternion(0.97537935, -0.0065177768, 0.14481017, 0.16620064)
bones/86/scale = Vector3(0.99999994, 0.99999994, 0.9999999)
bones/87/rotation = Quaternion(5.587934e-09, -2.2444871e-07, 2.0489098e-08, 1)
bones/87/scale = Vector3(1.0000001, 1.0000001, 0.9999999)
bones/88/rotation = Quaternion(0.09101691, 1.9101432e-08, 1.6378767e-08, 0.99584943)
bones/88/scale = Vector3(0.99999976, 0.9999998, 0.99999994)
bones/89/rotation = Quaternion(-3.89992e-09, 1.5134203e-09, 1.11758744e-08, 1)
bones/90/rotation = Quaternion(-0.5921741, -0.085667305, -0.073278114, 0.79788554)
bones/90/scale = Vector3(0.99999976, 1.0000006, 0.99999905)
bones/91/rotation = Quaternion(2.5133836e-06, 0.981081, -0.1935978, 1.2481368e-05)
bones/91/scale = Vector3(1.0000046, 1.0000002, 1.0000011)
bones/95/rotation = Quaternion(0, 0, 0.0677833, 0.9977001)
bones/97/position = Vector3(-2.2738433e-10, 1.196375e-07, -1.7517095e-08)
bones/97/rotation = Quaternion(0.07741953, -0.03387573, 0.0015500127, 0.99642175)
bones/100/rotation = Quaternion(-0.69416827, 0.0471615, 0.048686467, 0.7166142)
bones/102/rotation = Quaternion(0.20127359, -0.06675313, 0.011772793, 0.97718704)
bones/103/rotation = Quaternion(0.0050720647, 5.9501726e-10, 1.6467979e-08, 0.9999871)
bones/104/rotation = Quaternion(-0.19226567, -0.066512786, 0.013062466, 0.9789992)
bones/105/rotation = Quaternion(-0.6953334, -0.047240656, -0.048609648, 0.7154837)
bones/107/rotation = Quaternion(-0.8267998, -0.056172438, -0.037937287, 0.5583973)
bones/108/rotation = Quaternion(0.7071067, 0, 0, 0.7071068)
bones/111/rotation = Quaternion(1.7962888e-07, -2.8858855e-09, -9.060541e-09, 1)
bones/116/rotation = Quaternion(-0.21773806, 0.8117539, -0.4528111, 0.29767096)
bones/116/scale = Vector3(0.99339575, 0.99339575, 0.99339557)
bones/117/rotation = Quaternion(0.3524195, -2.2681765e-07, -8.9763084e-08, 0.9358422)
bones/117/scale = Vector3(0.99942476, 0.9994247, 0.99942464)
bones/118/rotation = Quaternion(-0.13324377, -0.036742195, -0.016774574, 0.99025995)
bones/118/scale = Vector3(1.0072275, 1.0072274, 1.0072277)
bones/121/scale = Vector3(1.0072275, 1.0072277, 1.0072278)
bones/123/rotation = Quaternion(-4.778845e-07, -0.018458027, -1.2821624e-07, 0.99982965)
bones/123/scale = Vector3(1.0072274, 1.0072277, 1.0072275)
bones/125/scale = Vector3(1.0066482, 1.0066482, 1.0066484)
bones/126/rotation = Quaternion(-1.5604327e-07, -0.094940566, 7.510109e-08, 0.995483)
bones/126/scale = Vector3(1.0066483, 1.006648, 1.0066483)
bones/135/rotation = Quaternion(-0.13241586, -0.69156575, 0.7053276, -0.08195105)
bones/136/rotation = Quaternion(-0.17092328, 0.1665903, 0.0293349, 0.9706556)
bones/136/scale = Vector3(0.99339586, 0.99339575, 0.9933957)
bones/137/rotation = Quaternion(0.3524195, -2.2321316e-07, -8.300685e-08, 0.93584216)
bones/137/scale = Vector3(0.9994248, 0.99942464, 0.9994245)
bones/138/rotation = Quaternion(-0.29693097, 0.743566, -0.40531433, 0.44120508)
bones/140/rotation = Quaternion(-0.29693097, 0.74356604, -0.4053143, 0.44120508)
bones/140/scale = Vector3(1.0033187, 0.9933958, 1.0033185)
bones/141/rotation = Quaternion(-4.2543597e-08, 0.08884954, 2.5555003e-08, 0.9960451)
bones/142/rotation = Quaternion(0.35084203, 0.088661715, -0.03331373, 0.9316325)
bones/142/scale = Vector3(1.0002878, 0.9951365, 1.0046471)
bones/143/rotation = Quaternion(1.09805036e-07, -0.011348591, 1.3483738e-07, 0.9999356)
bones/143/scale = Vector3(1.0000004, 0.9999991, 1)
bones/144/rotation = Quaternion(-0.13343465, -0.025644962, -0.015207715, 0.990609)
bones/144/scale = Vector3(0.9964113, 1.0064652, 0.9971702)
bones/146/rotation = Quaternion(0.18749683, 0.6918791, -0.46818557, -0.5166725)
bones/146/scale = Vector3(0.9839942, 0.9839939, 0.983994)
bones/147/rotation = Quaternion(0.5121619, 2.2908137e-07, 1.9282325e-08, 0.8588889)
bones/147/scale = Vector3(0.99844986, 0.99845, 0.9984499)
bones/148/rotation = Quaternion(-0.37660614, 0.21336173, 0.016372724, 0.9013194)
bones/148/scale = Vector3(1.0178438, 1.017844, 1.0178438)
bones/151/scale = Vector3(1.0178437, 1.0178438, 1.0178443)
bones/153/rotation = Quaternion(1.6733577e-07, 0.111517936, -7.893671e-08, 0.99376243)
bones/153/scale = Vector3(1.0178435, 1.0178437, 1.0178442)
bones/155/scale = Vector3(1.016266, 1.0162663, 1.0162662)
bones/156/rotation = Quaternion(-5.555048e-08, -0.0073255454, 1.3585303e-07, 0.9999732)
bones/156/scale = Vector3(1.0162662, 1.0162665, 1.0162662)
bones/161/rotation = Quaternion(-0.18968043, 0.7198367, -0.64876944, -0.15797068)
bones/165/rotation = Quaternion(0.24824159, -0.48793855, 0.8272473, 0.12630926)
bones/166/rotation = Quaternion(-0.25665265, -0.006136402, -0.0016295364, 0.96648294)
bones/166/scale = Vector3(0.9839946, 0.9839942, 0.9839943)
bones/167/rotation = Quaternion(0.5121619, 2.1999983e-07, 1.3494265e-08, 0.8588889)
bones/167/scale = Vector3(0.9984499, 0.9984499, 0.99844986)
bones/168/rotation = Quaternion(0.18110424, 0.69885075, -0.47069538, -0.50720286)
bones/170/rotation = Quaternion(0.18110394, 0.69885075, -0.47069532, -0.50720304)
bones/170/scale = Vector3(1.0081002, 0.98399425, 1.0081003)
bones/171/rotation = Quaternion(5.4609393e-09, 0.0062919627, 1.3661776e-07, 0.9999802)
bones/172/rotation = Quaternion(0.5121116, 0.0062545533, -0.003739924, 0.85888803)
bones/172/scale = Vector3(1.0007758, 0.9800216, 1.0198033)
bones/173/rotation = Quaternion(2.1662467e-07, 0.10444932, -1.0519219e-07, 0.9945302)
bones/173/scale = Vector3(0.99999994, 0.99999934, 1.0000002)
bones/174/rotation = Quaternion(-0.37636214, 0.11804018, -0.024528101, 0.9185948)
bones/174/scale = Vector3(0.99166065, 1.0049378, 1.0038198)
bones/179/position = Vector3(-0.13640067, 0.16311032, -0.015402915)
bones/179/rotation = Quaternion(-0.1170003, -0.6881027, 0.7139843, -0.055245034)
bones/179/scale = Vector3(0.99999994, 0.99999976, 0.9999999)
bones/181/position = Vector3(0.2851632, 1.2163203, -0.8042856)
bones/181/rotation = Quaternion(-0.700609, 0.095639646, 0.09563963, 0.70060915)
bones/184/position = Vector3(0.13640068, -0.3378653, 0.15440097)
bones/184/rotation = Quaternion(0.105632514, -0.5536977, 0.8226043, 0.07471861)
bones/184/scale = Vector3(0.99999994, 0.99999976, 0.9999999)
bones/186/position = Vector3(-0.6579142, 1.2163203, -0.5419188)
bones/186/rotation = Quaternion(-0.700609, 0.095639646, 0.09563963, 0.70060915)
bones/187/rotation = Quaternion(-0.4536256, 5.3071616e-08, 0.88918835, -0.059732433)
bones/196/rotation = Quaternion(0.98055196, 0.032216176, -0.006368963, -0.19349276)
bones/199/rotation = Quaternion(-1.7432076e-07, 4.934748e-08, 0.9994608, -0.032834925)
bones/200/position = Vector3(0.50444376, 0.54421425, 0.97528285)
bones/200/rotation = Quaternion(-0.7071069, 0, 0, 0.70710665)
bones/210/rotation = Quaternion(0.98055196, -0.032216176, 0.006368963, -0.19349276)
bones/214/position = Vector3(-0.50444376, 0.54421425, 0.97528285)
bones/214/rotation = Quaternion(-0.7071069, 0, 0, 0.70710665)

[node name="Mage" parent="rig/Skeleton3D" index="1"]
visible = false

[node name="BoneAttachment3D" type="BoneAttachment3D" parent="rig/Skeleton3D" index="2"]
transform = Transform3D(-0.9665176, -0.23990457, 0.09104445, 0.2565305, -0.8951624, 0.3645213, -0.0059507336, 0.3756719, 0.92673343, -0.4238534, 1.1336884, 0.37451327)
bone_name = "hand_ik.R"
bone_idx = 184

[node name="Mesh" type="MeshInstance3D" parent="rig/Skeleton3D/BoneAttachment3D" index="0"]
transform = Transform3D(1, 0, 0, 0, -4.371139e-08, -1, 0, 1, -4.371139e-08, -0.02, 0.095, 0)
mesh = ExtResource("2_i5i6r")

[node name="Particles" type="GPUParticles3D" parent="rig/Skeleton3D/BoneAttachment3D/Mesh" index="0"]
transform = Transform3D(1, 0, -1.0244548e-08, 0, 1, -5.9604645e-08, 1.3038516e-08, 0, 1, -0.0078475475, 1.0458937, -0.049830258)
emitting = false
amount = 150
lifetime = 0.2
explosiveness = 0.3
visibility_aabb = AABB(-1, -1, -1, 2, 2, 2)
local_coords = true
trail_enabled = true
trail_lifetime = 0.2
process_material = SubResource("ParticleProcessMaterial_i45mg")
draw_pass_1 = SubResource("RibbonTrailMesh_sarri")

[node name="Staff" parent="." index="1"]
visible = false

[node name="MagicBlast" parent="." index="2"]
visible = false

[node name="AugmentedStaff" parent="." index="3"]
visible = false

[node name="Cylinder" parent="." index="4"]
visible = false

[node name="AnimationPlayer" parent="." index="5"]
autoplay = "Idle"
